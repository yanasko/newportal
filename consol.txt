from django.contrib.auth.models import User
1)
user1 = User.objects.create(username='Adam')      
user2 = User.objects.create(username='Mafika') 
2)
author1 = Author.objects.create(user=user1)  
author2 = Author.objects.create(user=user2)
3)
category1 = Category.objects.create(name='Kriminal')
category2 = Category.objects.create(name='Sport')
category3 = Category.objects.create(name='Eda')
category4 = Category.objects.create(name='Politika')
4)
post1 = Post.objects.create(title='Заголовок', text='aaa', post_type='NE', author=author1)  
post2 = Post.objects.create(title='Заголовок', text='bbb', post_type='AR', author=author1) 
post3 = Post.objects.create(title='Заголовок', text='bbb', post_type='AR', author=author2) 
5)
post1.category.add(category1)
post1.category.add(category2)
post2.category.add(category2)  
post2.category.add(category3) 
post3.category.add(category1) 
post3.category.add(category2) 
post3.category.add(category4) 
6)
comment1 = Comment.objects.create(post=post1, user=user1, text='А')                                       
comment2 = Comment.objects.create(post=post1, user=user2, text='Б')                             
comment3 = Comment.objects.create(post=post2, user=user2, text='В') 
comment4 = Comment.objects.create(post=post3, user=user1, text='Г')  
comment5 = Comment.objects.create(post=post3, user=user2, text='Д') 
comment6 = Comment.objects.create(post=post3, user=user1, text='Е') 
6)
post1.like()
post1.like()
post1.like()
post2.like() 
post2.like()  
post2.like()  
post2.like()  
post3.like()  
post3.like()
post3.like()
post3.like()
post3.like()
post3.like()
post3.like()
post3.like()
post3.dislike()
comment1.like()
comment1.like()
comment1.like()
comment2.like() 
comment2.like()
comment2.like()
comment2.like()
comment3.like() 
comment4.like() 
comment4.like()  
comment5.like()  
comment5.like()
comment5.like()
comment5.like()
comment5.like()
comment5.like()
comment5.like()
comment5.dislike()
comment6.like() 
comment6.like()
comment6.like()
comment6.like()
comment6.like()
8)
author1.update_rating()
author2.update_rating()
9)
besty = Author.objects.order_by('-rating').first()
print(besty.user.username, besty.rating)
10)
posts = Post.objects.order_by('rating')
best_post = posts.values('some_datetime','rating', 'title', 'author__user__username').first() 
best_preview = posts.first().preview() 
print(best_preview)
print(best_post)
11)
best_comments = Comment.objects.filter(post=best_post)
com = best_comments.values('data', 'user__username', 'rating', 'text')
print(com)





